<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙØªØ±Ù‚ Ø§Ù„Ø·Ø±Ù‚ | Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø³Ø±ÙŠØ©</title>
    <style>
        :root { --gold: #edba11; --bg: #05070a; --card: #111827; --text: #f3f4f6; }
        body { font-family: 'Cairo', sans-serif; background-color: var(--bg); color: var(--text); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 10px; }
        #game-container { background: var(--card); padding: 25px; border-radius: 15px; border: 2px solid var(--gold); box-shadow: 0 0 50px rgba(237, 186, 17, 0.2); width: 100%; max-width: 800px; text-align: center; }
        .header { display: flex; justify-content: space-between; background: #1f2937; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-bottom: 3px solid var(--gold); }
        .screen { display: none; }
        .active { display: block; }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; max-height: 400px; overflow-y: auto; padding: 5px; }
        button { background: #374151; color: white; border: 1px solid var(--gold); padding: 12px; border-radius: 8px; cursor: pointer; font-family: 'Cairo'; transition: 0.2s; }
        button:hover:not(:disabled) { background: var(--gold); color: black; }
        button:disabled { opacity: 0.3; cursor: not-allowed; }
        .shop-item { background: #111827; border: 1px solid #374151; padding: 10px; margin: 5px; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; }
        .admin-txt { color: #00ffcc; font-weight: bold; text-shadow: 0 0 10px #00ffcc; }
        input { padding: 15px; width: 70%; border-radius: 10px; border: 1px solid var(--gold); background: #000; color: #fff; margin-bottom: 15px; text-align: center; }
        .hidden { display: none; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<div id="game-container">
    <div id="login-screen" class="screen active">
        <h1 style="color: var(--gold)">ğŸŒŒ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±</h1>
        <p>Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù„Ù„Ø¨Ø¯Ø¡ (ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ù„Ù…Ø·ÙˆØ± ÙÙ‚Ø·)</p>
        <input type="text" id="username" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§...">
        <button onclick="login()" style="width: 75%">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…</button>
    </div>

    <div id="game-screen" class="screen">
        <div class="header">
            <div>ğŸ‘¤ <span id="p-name"></span> <span id="p-badge"></span></div>
            <div>ğŸ’° <span id="p-coins">0</span></div>
            <div>ğŸ† <span id="p-wins">0</span></div>
        </div>

        <div id="main-nav">
            <h2 id="loc-title">Ø§Ù„Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©</h2>
            <p id="game-text">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ.. Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„ Ù„ØªÙØªØ­ Ø§Ù„Ù€ 100 Ù‚ØµØ© Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ©!</p>
            <div class="btn-grid">
                <button onclick="mine()">â›ï¸ Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ù†Ø¬Ù… (+100ğŸ’°)</button>
                <button onclick="showShop()">ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„Ù€ 100 Ù‚ØµØ©</button>
                <button onclick="showStories()">ğŸ“œ Ø§Ù„Ø¹Ø¨ Ø§Ù„Ù‚ØµØµ Ø§Ù„Ù…ÙØªÙˆØ­Ø©</button>
            </div>
        </div>

        <div id="shop-view" class="hidden">
            <h3>ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù„ÙƒÙŠ</h3>
            <div id="shop-items" style="max-height: 350px; overflow-y: auto;"></div>
            <button onclick="backToMain()" style="width:100%; margin-top:10px;">ğŸ”™ Ø¹ÙˆØ¯Ø©</button>
        </div>

        <div id="stories-view" class="hidden">
            <h3>ğŸ“œ Ø§Ø®ØªØ± Ù‚ØµØ© Ù„ØªØ¨Ø¯Ø£Ù‡Ø§</h3>
            <div id="story-list" class="btn-grid"></div>
            <button onclick="backToMain()" style="width:100%; margin-top:10px;">ğŸ”™ Ø¹ÙˆØ¯Ø©</button>
        </div>
    </div>
</div>

<script>
    let player = { name: "", coins: 0, wins: 0, unlocked: [1] };
    
    // ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ù‡ÙŠ "Ù…Ø·ÙˆØ±" Ø£Ùˆ "admin"
    function login() {
        const val = document.getElementById('username').value.trim();
        if(!val) return;
        player.name = val;
        
        if(val === "Ù…Ø·ÙˆØ±" || val === "admin") {
            player.coins = 9999999;
            player.wins = 1000;
            for(let i=1; i<=100; i++) player.unlocked.push(i);
            document.getElementById('p-badge').innerHTML = "<span class='admin-txt'>[ğŸ‘‘ Ø§Ù„Ù…Ø·ÙˆØ±]</span>";
        }
        
        document.getElementById('login-screen').classList.remove('active');
        document.getElementById('game-screen').classList.add('active');
        document.getElementById('p-name').innerText = (val === "Ù…Ø·ÙˆØ±") ? "ØªÙŠÙ…" : val;
        updateUI();
    }

    function updateUI() {
        document.getElementById('p-coins').innerText = player.coins;
        document.getElementById('p-wins').innerText = player.wins;
    }

    function mine() {
        player.coins += 100;
        document.getElementById('game-text').innerText = "Ø­ØµÙ„Øª Ø¹Ù„Ù‰ 100 Ø¹Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ù…Ù†Ø¬Ù…!";
        updateUI();
    }

    function showShop() {
        document.getElementById('main-nav').classList.add('hidden');
        document.getElementById('shop-view').classList.remove('hidden');
        const container = document.getElementById('shop-items');
        container.innerHTML = "";
        for(let i=1; i<=100; i++) {
            const price = i * 200;
            const isOwned = player.unlocked.includes(i);
            const div = document.createElement('div');
            div.className = 'shop-item';
            div.innerHTML = `<span>Ù‚ØµØ© Ø±Ù‚Ù… ${i} (${price}ğŸ’°)</span>
                             <button onclick="buy(${i}, ${price})" ${isOwned ? 'disabled' : ''}>${isOwned ? 'Ù…Ù…Ù„ÙˆÙƒØ©' : 'Ø´Ø±Ø§Ø¡'}</button>`;
            container.appendChild(div);
        }
    }

    function buy(id, price) {
        if(player.coins >= price) {
            player.coins -= price;
            player.unlocked.push(id);
            updateUI();
            showShop();
        } else { alert("Ù…Ø§Ù„Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ!"); }
    }

    function showStories() {
        document.getElementById('main-nav').classList.add('hidden');
        document.getElementById('stories-view').classList.remove('hidden');
        const list = document.getElementById('story-list');
        list.innerHTML = "";
        player.unlocked.forEach(id => {
            const btn = document.createElement('button');
            btn.innerText = `Ø§Ù„Ø¹Ø¨ Ø§Ù„Ù‚ØµØ© ${id}`;
            btn.onclick = () => play(id);
            list.appendChild(btn);
        });
    }

    function play(id) {
        const reward = id * 300;
        player.coins += reward;
        player.wins += 1;
        alert(`Ù„Ù‚Ø¯ ÙØ²Øª ÙÙŠ Ø§Ù„Ù‚ØµØ© Ø±Ù‚Ù… ${id} ÙˆØ­ØµÙ„Øª Ø¹Ù„Ù‰ ${reward}ğŸ’°!`);
        updateUI();
        backToMain();
    }

    function backToMain() {
        document.getElementById('shop-view').classList.add('hidden');
        document.getElementById('stories-view').classList.add('hidden');
        document.getElementById('main-nav').classList.remove('hidden');
    }
</script>
</body>
</html>