<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…ÙØªØ±Ù‚ Ø§Ù„Ø·Ø±Ù‚: Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ù„Ø§Ù†Ù‡Ø§Ø¦ÙŠØ©</title>
    <style>
        :root { --gold: #edba11; --bg: #0b0e14; --card: #1a1f29; --text: #e2e8f0; }
        body { font-family: 'Cairo', sans-serif; background-color: var(--bg); color: var(--text); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        #game-container { background: var(--card); padding: 30px; border-radius: 20px; border: 2px solid var(--gold); box-shadow: 0 10px 40px rgba(0,0,0,0.9); width: 100%; max-width: 700px; text-align: center; }
        .stats-bar { display: flex; justify-content: space-between; margin-bottom: 20px; color: var(--gold); font-weight: bold; font-size: 0.9rem; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; }
        .leaderboard { background: #000; padding: 10px; border-radius: 10px; margin-top: 20px; text-align: right; font-size: 0.8rem; border: 1px solid #334155; }
        #text { font-size: 1.2rem; margin: 25px 0; line-height: 1.8; min-height: 80px; }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button { background: #242c3d; color: white; border: 1px solid var(--gold); padding: 12px; border-radius: 8px; cursor: pointer; transition: 0.3s; font-family: 'Cairo'; }
        button:hover:not(:disabled) { background: var(--gold); color: black; transform: scale(1.02); }
        button:disabled { opacity: 0.4; cursor: not-allowed; border-color: #444; }
        input { padding: 12px; border-radius: 8px; border: 1px solid var(--gold); background: #000; color: white; width: 80%; margin-bottom: 15px; text-align: center; }
        .admin { color: #00ffcc; text-shadow: 0 0 5px #00ffcc; }
        .hidden { display: none; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<div id="game-container">
    <div id="login-screen">
        <h1>ğŸŒŒ Ù…ÙØªØ±Ù‚ Ø§Ù„Ø·Ø±Ù‚</h1>
        <p>Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ØªØ¨Ø¯Ø£ Ù…ØºØ§Ù…Ø±Ø© Ù„Ø§ ØªÙ†ØªÙ‡ÙŠ</p>
        <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¨Ø·Ù„...">
        <button style="width: 85%" onclick="login()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…</button>
    </div>

    <div id="game-screen" class="hidden">
        <div class="stats-bar">
            <span>ğŸ‘¤: <span id="p-name"></span> <span id="p-badge"></span></span>
            <span>ğŸ’°: <span id="p-coins">0</span></span>
            <span>ğŸ† ÙÙˆØ²: <span id="p-wins">0</span></span>
        </div>
        
        <div id="text"></div>
        <div id="options" class="btn-grid"></div>

        <div class="leaderboard">
            <strong>ğŸ† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ± (Ø§Ù„Ø£ÙƒØ«Ø± ÙÙˆØ²Ø§Ù‹):</strong>
            <div id="leader-list">
                1. ØªÙŠÙ… (Ø§Ù„Ù…Ø·ÙˆØ±) - 9999 ÙÙˆØ²<br>
                2. Ø®Ø§Ù„Ø¯ - 45 ÙÙˆØ²<br>
                3. Ø³Ø§Ø±Ø© - 32 ÙÙˆØ²
            </div>
        </div>
    </div>
</div>

<script>
    let player = { name: "", coins: 0, wins: 0, unlocked: ['story1'] };
    
    const stories = {
        'story1': { name: "Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©", price: 0 },
        'story2': { name: "ÙƒÙ‡Ù Ø§Ù„Ø¬Ù„ÙŠØ¯", price: 50 },
        'story3': { name: "Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù†Ø­Ø§Ø³", price: 100 },
        'story4': { name: "ØºØ§Ø¨Ø© Ø§Ù„Ø£Ø±ÙˆØ§Ø­", price: 200 },
        'story5': { name: "Ù‚ØµØ± Ø§Ù„Ø³Ø±Ø§Ø¨", price: 400 },
        'story6': { name: "Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¬Ø­ÙŠÙ…", price: 800 },
        'story7': { name: "ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¹Ù…Ø§Ù„Ù‚Ø©", price: 1500 },
        'story8': { name: "Ø¬Ø²ÙŠØ±Ø© Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø©", price: 3000 },
        'story9': { name: "Ù…Ø¬Ø±Ø© Ø§Ù„Ù…ÙÙ‚ÙˆØ¯ÙŠÙ†", price: 6000 },
        'story10': { name: "Ø¹Ø±Ø´ Ø§Ù„Ø®Ù„ÙˆØ¯", price: 15000 }
    };

    function login() {
        const name = document.getElementById('username').value.trim();
        if(!name) return;
        
        player.name = name;
        if(name === "ØªÙŠÙ…" || name.toLowerCase() === "teem") {
            player.coins = 1000000;
            player.wins = 9999;
            player.unlocked = Object.keys(stories);
            document.getElementById('p-badge').innerHTML = "<span class='admin'>[Ø£Ø¯Ù…Ù†]</span>";
        }
        
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        document.getElementById('p-name').innerText = name;
        updateUI();
        showNode(1);
    }

    function updateUI() {
        document.getElementById('p-coins').innerText = player.coins;
        document.getElementById('p-wins').innerText = player.wins;
    }

    function showNode(id) {
        const node = nodes.find(n => n.id === id);
        document.getElementById('text').innerText = node.text;
        const optDiv = document.getElementById('options');
        optDiv.innerHTML = "";

        node.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.innerText = opt.text;
            
            // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ§Ù„Ù‚ØµØµ
            if(opt.require) {
                if(!player.unlocked.includes(opt.require)) {
                    btn.innerText += ` (Ù…Ù‚ÙÙ„Ø©: ${stories[opt.require].price}ğŸ’°)`;
                    if(player.coins < stories[opt.require].price) btn.disabled = true;
                    btn.onclick = () => buyStory(opt.require, id);
                } else {
                    btn.onclick = () => { if(opt.win) player.wins++; updateUI(); showNode(opt.next); };
                }
            } else {
                btn.onclick = () => {
                    if(opt.add) player.coins += opt.add;
                    updateUI();
                    showNode(opt.next);
                };
            }
            optDiv.appendChild(btn);
        });
    }

    function buyStory(storyId, currentNode) {
        player.coins -= stories[storyId].price;
        player.unlocked.push(storyId);
        updateUI();
        showNode(currentNode);
        alert(`ØªÙ… ÙØªØ­ Ù‚ØµØ©: ${stories[storyId].name}`);
    }

    const nodes = [
        {
            id: 1,
            text: "Ø£Ù†Øª ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù…ØºØ§Ù…Ø±Ø§Øª. Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„ Ù„ÙØªØ­ Ø£Ø³Ø§Ø·ÙŠØ± Ø¬Ø¯ÙŠØ¯Ø©!",
            options: [
                { text: "Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ù†Ø¬Ù… (+20ğŸ’°)", add: 20, next: 1 },
                { text: "Ø¯Ø®ÙˆÙ„ ÙƒÙ‡Ù Ø§Ù„Ø¬Ù„ÙŠØ¯", require: "story2", next: 2 },
                { text: "Ø¯Ø®ÙˆÙ„ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù†Ø­Ø§Ø³", require: "story3", next: 3 },
                { text: "Ø¯Ø®ÙˆÙ„ ØºØ§Ø¨Ø© Ø§Ù„Ø£Ø±ÙˆØ§Ø­", require: "story4", next: 4 }
            ]
        },
        {
            id: 2,
            text: "Ø§Ù„Ø¨Ø±Ø¯ Ø´Ø¯ÙŠØ¯ Ù‡Ù†Ø§.. ØªØ¬Ø¯ ØªÙ…Ø«Ø§Ù„Ø§Ù‹ Ø¬Ù„ÙŠØ¯ÙŠØ§Ù‹ ÙŠÙ…Ø³Ùƒ Ø¬ÙˆÙ‡Ø±Ø©!",
            options: [
                { text: "Ø£Ø®Ø° Ø§Ù„Ø¬ÙˆÙ‡Ø±Ø© (+100ğŸ’°)", add: 100, win: true, next: 1 },
                { text: "Ø§Ù„Ù‡Ø±ÙˆØ¨ Ù…Ù† Ø§Ù„Ø¨Ø±Ø¯", next: 1 }
            ]
        },
        {
            id: 3,
            text: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø²Ø§Ø¦Ù. Ø§Ø­Ø°Ø± Ù…Ù† Ø§Ù„ÙØ®Ø§Ø®!",
            options: [
                { text: "Ø³Ø±Ù‚Ø© Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ¨ÙŠÙŠØ± (+500ğŸ’°)", add: 500, win: true, next: 1 },
                { text: "Ø¯Ø®ÙˆÙ„ Ù‚ØµØ± Ø§Ù„Ø³Ø±Ø§Ø¨", require: "story5", next: 5 }
            ]
        },
        // Ø£Ø¶Ù Ù‡Ù†Ø§ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¹Ù‚Ø¯ (Nodes) Ù„Ù„Ù‚ØµØµ Ø§Ù„Ø¹Ø´Ø± Ø¨Ù†ÙØ³ Ø§Ù„Ù†Ù…Ø·..
        {
            id: 5,
            text: "Ø¯Ø§Ø®Ù„ Ù‚ØµØ± Ø§Ù„Ø³Ø±Ø§Ø¨.. Ù„Ø§ Ø´ÙŠØ¡ ÙƒÙ…Ø§ ÙŠØ¨Ø¯Ùˆ. Ù‡Ù„ ØªØªÙ‚Ø¯Ù…ØŸ ...........",
            options: [{ text: "Ù†Ù‡Ø§ÙŠØ© ØºØ§Ù…Ø¶Ø© ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ø¨ÙƒÙ†Ø² (+1000ğŸ’°)", add: 1000, win: true, next: 1 }]
        }
    ];
</script>
</body>
</html>